{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "..\\..\\spa-admin\\App.svelte",
    "..\\..\\spa-admin\\Teachers.svelte",
    "..\\..\\spa-admin\\Students.svelte"
  ],
  "sourcesContent": [
    "<script>\r\nexport let csrf_token;\r\n\r\nimport Router from 'svelte-spa-router';\r\nimport active from 'svelte-spa-router/active'\r\nimport routes from './routes';\r\n\r\nlet logoutForm;\r\nfunction logout()\r\n{\r\n\tlogoutForm.submit();\r\n}\r\n</script>\r\n\r\n<div class=\"container-fluid\">\r\n\t<div class=\"row mt-3\">\r\n\t\t<div class=\"col-2\">\r\n\t\t\t<h1 class=\"text-center\">ELOSpeak</h1>\r\n\t\t\t<div class=\"nav flex-column nav-pills mt-3 sidenav-bar\">\r\n\t\t\t\t<a href=\"#/\" use:active class=\"nav-link\">Overview</a>\r\n\t\t\t\t<a href=\"#/teachers\" use:active class=\"nav-link\">Teachers</a>\r\n\t\t\t\t<a href=\"#/students\" use:active class=\"nav-link\">Students</a>\r\n\t\t\t\t<a href=\"#/settings\" use:active class=\"nav-link\">Settings</a>\r\n\t\t\t\t<a href=\"javascript:;\" on:click=\"{logout}\" class=\"nav-link\">Logout</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"col-10\">\r\n\t\t\t<Router {routes} />\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<form method=\"POST\" action=\"./logout\" bind:this={logoutForm}>\r\n\t<input type=\"hidden\" name=\"_token\" value={csrf_token} />\r\n</form>\r\n\r\n<style>\r\n\t:global(.required) {\r\n\t\tcolor: #f03;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t:global(#main) {\r\n\t\tfont-family: 'Nunito', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n\t}\r\n\r\n\t.sidenav-bar {\r\n\t\tfont-size: 1.5rem;\r\n\t}\r\n</style>",
    "<script>\r\nimport _ from 'underscore';\r\nimport {onMount} from 'svelte';\r\nimport axios from 'axios';\r\nimport jq from 'jquery';\r\nimport {\r\n    UserPlusIcon,\r\n    MailIcon,\r\n    PhoneIcon,\r\n    UserIcon,\r\n    UserXIcon\r\n} from 'svelte-feather-icons';\r\n\r\nlet isInitiated = false, teachers = [], filteredTeachers = [];\r\n\r\nonMount(async () => {\r\n    try {\r\n        const xhr = await axios.get('./teachers');\r\n\r\n        xhr.data.forEach((data) => {\r\n            teachers = [...teachers, data];\r\n        });\r\n        \r\n        filteredTeachers = teachers;\r\n\r\n        isInitiated = true;\r\n    } catch (e) {\r\n        // ERROR\r\n    }\r\n});\r\n\r\nlet keywords;\r\nconst searchTeacher = _.debounce(async () => {\r\n    if (keywords.length) {\r\n        filteredTeachers = teachers.filter((teacher) => {\r\n            const regexp = new RegExp(`(${keywords})`, 'i');\r\n\r\n            return regexp.test(teacher.full_name) \r\n                || regexp.test(teacher.username) \r\n                || regexp.test(teacher.email) \r\n                || regexp.test(teacher.skype);\r\n        });\r\n    } else {\r\n        filteredTeachers = teachers;\r\n    }\r\n}, 700);\r\n\r\nlet educationalAttainment = [];\r\nconst eaXHR = axios.get('./teacher/educational-attainment');\r\n\r\neaXHR.then((r) => {\r\n    educationalAttainment = r.data;\r\n});\r\n\r\nlet addErrors = [], addSuccess = false;\r\nasync function submitAddTeacher(evt)\r\n{\r\n    const fields = jq('.t');\r\n    const data = new FormData(evt.target);\r\n\r\n    fields.prop('disabled', true);\r\n    try {\r\n        const xhr = await axios.post('./teachers', data);\r\n\r\n        addErrors = [];\r\n        addSuccess = true;\r\n\r\n        setTimeout(() => {\r\n            jq('#add-modal').modal('hide');\r\n            top.location.href = '#/teacher/?id='+ xhr.data.id;\r\n        }, 1000);\r\n    } catch (e) {\r\n        if (e.response.status == 422) {\r\n            const errors = e.response.data.errors;\r\n\r\n            addErrors = [];\r\n\r\n            fields.removeClass('is-invalid');\r\n\r\n            for (let i in errors) {\r\n                jq(`#teacher-${i}`).addClass('is-invalid');\r\n                addErrors = [...addErrors, errors[i][0]];\r\n            }\r\n        }\r\n    }\r\n\r\n    fields.prop('disabled', false);\r\n    \r\n    return false;\r\n}\r\n\r\nlet tmp = {}, removeSuccess = false;\r\nfunction showConfirmRemove(teacher)\r\n{\r\n    tmp = teacher;\r\n    jq('#remove-modal').modal('show');\r\n}\r\n\r\nasync function removeTeacher(id)\r\n{\r\n    try {\r\n        const xhr = await axios.post(`./teachers/${id}`, {\r\n            _method: 'DELETE'\r\n        });\r\n\r\n        removeSuccess = true;\r\n\r\n        setTimeout(() => {\r\n            top.location.reload();\r\n        }, 1000);\r\n    } catch (e) {\r\n        // ERROR\r\n        alert('Error: Unable to delete teacher');\r\n    }\r\n}\r\n</script>\r\n<div class=\"d-flex justify-content-between align-items-center\">\r\n    <div>\r\n        <h2 class=\"display-4\">Teachers</h2>\r\n    </div>\r\n\r\n    <div>\r\n        <button type=\"button\" class=\"btn btn-secondary btn-lg\" data-toggle=\"modal\" data-target=\"#add-modal\">\r\n            <UserPlusIcon /> Add Teacher\r\n        </button>\r\n    </div>\r\n</div>\r\n\r\n{#if isInitiated}\r\n    <input type=\"text\" bind:value={keywords} class=\"form-control form-control-lg\" on:keyup={searchTeacher} placeholder=\"Search Teacher\" />\r\n\r\n    <table class=\"table mt-4\">\r\n        <thead class=\"thead-dark\">\r\n            <tr>\r\n                <th>#</th>\r\n                <th>Full Name</th>\r\n                <th>Username</th>\r\n                <th>Skype</th>\r\n                <th>Email</th>\r\n                <th></th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            {#each filteredTeachers as teacher}\r\n                <tr>\r\n                    <td>{teacher.id}</td>\r\n                    <td>\r\n                        <UserIcon />\r\n                        <a href=\"#/teacher/?id={teacher.id}\">\r\n                            {teacher.full_name}\r\n                        </a>\r\n                    </td>\r\n                    <td>\r\n                        {teacher.username}\r\n                    </td>\r\n                    <td>\r\n                        <PhoneIcon />\r\n                        <a href=\"skype:{teacher.skype}?chat\">\r\n                            {teacher.skype}\r\n                        </a>\r\n                    </td>\r\n                    <td>\r\n                        <MailIcon />\r\n                        <a href=\"mailto:{teacher.email}\">\r\n                            {teacher.email}\r\n                        </a>\r\n                    </td>\r\n                    <td>\r\n                        <button class=\"btn btn-secondary\" on:click|preventDefault={() => {showConfirmRemove(teacher)}}><UserXIcon /> Remove</button>\r\n                    </td>\r\n                </tr>\r\n            {/each}\r\n        </tbody>\r\n    </table>\r\n{:else}\r\n    <div class=\"spinner-border\" role=\"status\">\r\n        <span class=\"sr-only\">Loading...</span>\r\n    </div>\r\n{/if}\r\n<div class=\"modal fade\" id=\"remove-modal\" data-backdrop=\"static\">\r\n    <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h5 class=\"modal-title\">Remove teacher</h5>\r\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                {#if removeSuccess}\r\n                    <div class=\"alert alert-success\">\r\n                        Successfully deleted teacher. Refreshing list...\r\n                    </div>\r\n                {/if}\r\n                You are about to remove teacher <mark>{tmp.full_name}</mark>. Are you sure you want to continue with this?\r\n            </div>\r\n            <div class=\"modal-footer\">\r\n                <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">No</button>\r\n                <button type=\"button\" class=\"btn btn-danger\" on:click|preventDefault={removeTeacher(tmp.id)}>Yes, continue</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal fade\" id=\"add-modal\" data-backdrop=\"static\">\r\n    <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h5 class=\"modal-title\">Add New Teacher</h5>\r\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <span class=\"text-muted af mb-2\">\r\n                    <span class=\"required\">*</span> Required fields\r\n                </span>\r\n\r\n                {#if addErrors.length > 0}\r\n                    <div class=\"alert alert-danger\">\r\n                        <ul>\r\n                            {#each addErrors as error}\r\n                                <li>{error}</li>\r\n                            {/each}\r\n                        </ul>\r\n                    </div>\r\n                {/if}\r\n\r\n                {#if addSuccess}\r\n                    <div class=\"alert alert-success\">\r\n                        Successfully added teacher. Redirecting to teacher's page...\r\n                    </div>\r\n                {/if}\r\n\r\n                <form novalidate on:submit|preventDefault={submitAddTeacher}>\r\n                    <div class=\"form-group\">\r\n                        <label for=\"teacher-username\">Username <span class=\"required\">*</span></label>\r\n                        <input type=\"text\" class=\"form-control t\" id=\"teacher-username\" name=\"username\">\r\n                    </div>\r\n\r\n                    <div class=\"form-group\">\r\n                        <label for=\"teacher-email\">Email <span class=\"required\">*</span></label>\r\n                        <input type=\"email\" class=\"form-control t\" id=\"teacher-email\" name=\"email\">\r\n                    </div>\r\n\r\n                    <div class=\"d-flex mb-2\">\r\n                        <div class=\"w-auto mr-2\">\r\n                            <label for=\"teacher-password\">Password <span class=\"required\">*</span></label>\r\n                            <input type=\"password\" class=\"form-control t\" id=\"teacher-password\" name=\"password\">\r\n                        </div>\r\n\r\n                        <div class=\"w-auto\">\r\n                            <label for=\"teacher-password_repeat\">Password Repeat<span class=\"required\">*</span></label>\r\n                            <input type=\"password\" class=\"form-control t\" id=\"teacher-password_repeat\" name=\"password_repeat\">\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"form-group\">\r\n                        <label for=\"teacher-full_name\">Full Name <span class=\"required\">*</span></label>\r\n                        <input type=\"text\" class=\"form-control t\" id=\"teacher-full_name\" name=\"full_name\">\r\n                    </div>\r\n                    \r\n                    <div class=\"d-flex mb-2\">\r\n                        <div class=\"w-auto mr-2\">\r\n                            <label for=\"teacher-skype\">Skype <span class=\"required\">*</span></label>\r\n                            <input type=\"text\" class=\"form-control t\" id=\"teacher-skype\" name=\"skype\">\r\n                        </div>\r\n\r\n                        <div class=\"w-auto\">\r\n                            <label for=\"teacher-salary\">Salary per class <span class=\"required\">*</span></label>\r\n                            <input type=\"text\" class=\"form-control t\" id=\"teacher-salary\" name=\"salary\">\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"form-group\">\r\n                        <label for=\"teacher-educational_attainment\">Educational Attainment <span class=\"required\">*</span></label>\r\n                        <select class=\"form-control t\" id=\"teacher-educational_attainment\" name=\"educational_attainment\">\r\n                            {#each educationalAttainment as ea, i}\r\n                                <option value={i}>{ea}</option>\r\n                            {/each}\r\n                        </select>\r\n                    </div>\r\n\r\n                    <button type=\"submit\" class=\"btn btn-success t\">Add</button>\r\n                    <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<style>\r\n.af {\r\n    font-size: 0.9rem;\r\n    display: block;\r\n}\r\n</style>",
    "<script>\r\nimport _ from 'underscore';\r\nimport {onMount} from 'svelte';\r\nimport axios from 'axios';\r\nimport jq from 'jquery';\r\nimport {\r\n    UserPlusIcon,\r\n    UserIcon,\r\n    PhoneIcon\r\n} from 'svelte-feather-icons';\r\n\r\nlet isInitiated = false, students = [], filteredStudents = [];\r\n\r\nonMount(async () => {\r\n    try {\r\n        const xhr = await axios.get('./students');\r\n\r\n        xhr.data.forEach((data) => {\r\n            students = [...students, data];\r\n        });\r\n        \r\n        filteredStudents = students;\r\n\r\n        isInitiated = true;\r\n    } catch (e) {\r\n        // ERROR\r\n    }\r\n});\r\n\r\nlet keywords;\r\nconst searchStudent = _.debounce(async () => {\r\n    if (keywords.length) {\r\n        filteredStudents = students.filter((student) => {\r\n            const regexp = new RegExp(`(${keywords})`, 'i');\r\n\r\n            return regexp.test(student.full_name) \r\n                || regexp.test(student.username) \r\n                || regexp.test(student.email) \r\n                || regexp.test(student.skype);\r\n        });\r\n    } else {\r\n        filteredStudents = students;\r\n    }\r\n}, 700);\r\n\r\nlet addForm, isAddSuccess = false, addErrors = [];\r\nconst test = {\r\n\t\t\t[`input-group-`]: false,\r\n\t\t\t'btn-group': true,\r\n\t\t\t[`btn-group-sm`]: false,\r\n\t\t\tdropdown: false,\r\n\t\t\tshow: false,\r\n\t\t\t'nav-item': false\r\n        };\r\n        console.log(test);\r\nasync function submitAddForm()\r\n{\r\n    const fields = jq('.t'), fbs = jq('[id^=\"fb-\"');\r\n\r\n    fbs.removeClass('invalid-feedback d-block');\r\n    fbs.addClass('d-none');\r\n\r\n    addErrors = [];\r\n\r\n    const data = new FormData(addForm);\r\n\r\n    fields.prop('disabled', true);\r\n    fields.removeClass('is-invalid');\r\n    try {\r\n        const xhr = await axios.post('./students', data);\r\n\r\n        if (xhr.data.success) {\r\n            isAddSuccess = true;\r\n            setTimeout(() => {\r\n                jq('#add-modal').modal('hide');\r\n                top.location.href = `#/student/?id=${xhr.data.id}`;\r\n            }, 1000);\r\n        }\r\n    } catch (e) {\r\n        if (e.response.status == 422) {\r\n            hasErrors = true;\r\n            for (let key in e.response.data.errors) {\r\n                addErrors = [\r\n                    ...addErrors,\r\n                    e.response.data.errors[key][0]\r\n                ];\r\n\r\n                jq(`#add_${key}`).addClass('is-invalid');\r\n\r\n                const fb = jq(`#fb-${key}`);\r\n                fb.addClass('invalid-feedback d-block');\r\n                fb.text(e.response.data.errors[key][0]);\r\n            }\r\n        }\r\n    }\r\n    \r\n\r\n    fields.prop('disabled', false);\r\n}\r\n</script>\r\n\r\n<div class=\"d-flex justify-content-between align-items-center\">\r\n    <div>\r\n        <h2 class=\"display-4\">Students</h2>\r\n    </div>\r\n\r\n    <div>\r\n        <button type=\"button\" class=\"btn btn-secondary btn-lg\" data-toggle=\"modal\" data-target=\"#add-modal\">\r\n            <UserPlusIcon /> Add Student\r\n        </button>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal fade\" id=\"add-modal\" data-backdrop=\"static\" tabindex=\"-1\">\r\n    <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h5 class=\"modal-title\">Add Student</h5>\r\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\">\r\n                    <span>&times;</span>\r\n                </button>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <span class=\"text-muted af mb-2\">\r\n                    <span class=\"required\">*</span> Required fields\r\n                </span>\r\n\r\n                {#if isAddSuccess}\r\n                    <div class=\"alert alert-success mb-3\">\r\n                        Successfully created student. Redirecting...\r\n                    </div>\r\n                {/if}\r\n\r\n                <form bind:this={addForm} novalidate>\r\n                    <div class=\"form-group\">\r\n                        <label for=\"add_username\">Username <span class=\"required\">*</span></label>\r\n                        <input type=\"text\" class=\"form-control t\" id=\"add_username\" name=\"username\">\r\n                        <div id=\"fb-username\" class=\"d-none\"></div>\r\n                    </div>\r\n\r\n                    <div class=\"form-group\">\r\n                        <label for=\"add_password\">Password <span class=\"required\">*</span></label>\r\n                        <input type=\"password\" class=\"form-control t\" id=\"add_password\" name=\"password\">\r\n                        <div id=\"fb-password\" class=\"d-none\"></div>\r\n                    </div>\r\n\r\n                    <div class=\"form-group\">\r\n                        <label for=\"add_password_repeat\">Password <span class=\"required\">*</span></label>\r\n                        <input type=\"password\" class=\"form-control t\" id=\"add_password_repeat\" name=\"password_repeat\">\r\n                        <div id=\"fb-password_repeat\" class=\"d-none\"></div>\r\n                    </div>\r\n\r\n                    <div class=\"form-group\">\r\n                        <label for=\"add_full_name\">Full Name <span class=\"required\">*</span></label>\r\n                        <input type=\"text\" class=\"form-control t\" id=\"add_full_name\" name=\"full_name\">\r\n                        <div id=\"fb-full_name\" class=\"d-none\"></div>\r\n                    </div>\r\n\r\n                    <div class=\"form-group\">\r\n                        <label for=\"add_email\">Email <span class=\"required\">*</span></label>\r\n                        <input type=\"email\" class=\"form-control t\" id=\"add_email\" name=\"email\">\r\n                        <div id=\"fb-email\" class=\"d-none\"></div>\r\n                    </div>\r\n\r\n                    <div class=\"form-group\">\r\n                        <label for=\"add_skype\">Skype <span class=\"required\">*</span></label>\r\n                        <input type=\"text\" class=\"form-control t\" id=\"add_skype\" name=\"skype\">\r\n                        <div id=\"fb-skype\" class=\"d-none\"></div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            <div class=\"modal-footer\">\r\n                <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n                <button type=\"button\" class=\"btn btn-primary\" on:click={submitAddForm}>Create</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n{#if isInitiated}\r\n    <input type=\"text\" bind:value={keywords} class=\"form-control form-control-lg\" on:keyup={searchStudent} placeholder=\"Search Student\" />\r\n\r\n    <table class=\"table mt-4\">\r\n        <thead class=\"thead-dark\">\r\n            <tr>\r\n                <th>#</th>\r\n                <th>Full Name</th>\r\n                <th>Username</th>\r\n                <th>Skype</th>\r\n                <th></th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            {#each filteredStudents as student}\r\n                <tr>\r\n                    <td>{student.id}</td>\r\n                    <td>\r\n                        <UserIcon />\r\n                        <a href=\"#/student/?id={student.id}\">\r\n                            {student.full_name}\r\n                        </a>\r\n                    </td>\r\n                    <td>{student.username}</td>\r\n                    <td>\r\n                        <PhoneIcon />\r\n                        <a href=\"skype:{student.skype}?chat\">\r\n                            {student.skype}\r\n                        </a>\r\n                    </td>\r\n                    <td>...</td>\r\n                </tr>\r\n            {/each}\r\n        </tbody>\r\n    </table>\r\n{:else}\r\n    <div class=\"spinner-border\" role=\"status\">\r\n        <span class=\"sr-only\">Loading...</span>\r\n    </div>\r\n{/if}\r\n\r\n<style>\r\n.af {\r\n    font-size: 0.9rem;\r\n    display: block;\r\n}\r\n</style>"
  ],
  "names": [],
  "mappings": "AAsCS,SAAS,AAAE,CAAC,AACnB,KAAK,CAAE,IAAI,CACX,WAAW,CAAE,IAAI,AAClB,CAAC,AACO,KAAK,AAAE,CAAC,AACf,WAAW,CAAE,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,CAAC,UAAU,AACvE,CAAC,AAED,YAAY,eAAC,CAAC,AACb,SAAS,CAAE,MAAM,AAClB,CAAC;ACoPF,GAAG,eAAC,CAAC,AACD,SAAS,CAAE,MAAM,CACjB,OAAO,CAAE,KAAK,AAClB,CAAC;AC1ED,GAAG,eAAC,CAAC,AACD,SAAS,CAAE,MAAM,CACjB,OAAO,CAAE,KAAK,AAClB,CAAC"
}